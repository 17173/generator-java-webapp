/*! switchable-1.0.0 2015-03-10 10:22:26 */
function d(a,b){b||(b={}),b.helpers||(b.helpers={});for(var c in Handlebars.helpers)b.helpers[c]=b.helpers[c]||Handlebars.helpers[c];return Handlebars.compile(source)(a,b)}define("pandora/switchable/1.0.0/switchable",["$","pandora/widget/1.0.0/widget","pandora/base/1.0.0/base","pandora/class/1.0.0/class","pandora/events/1.0.0/events","./plugins/effects"],function(a,b,c){"use strict";function d(a,b){function c(){c.stop(),d=setTimeout(a,b)}b=b||200;var d;return c.stop=function(){d&&(clearTimeout(d),d=0)},c}function e(a){var b=f(window).scrollTop(),c=b+f(window).height(),d=a.offset().top,e=d+a.height();return c>d&&e>b}var f=a("$"),g=a("pandora/widget/1.0.0/widget"),h=a("./plugins/effects"),i=g.extend({defaults:{classPrefix:"ue-switchable",container:null,delegates:{"{{triggerType}} [data-role=tab]":"slide","click [data-role=prev]":"prev","click [data-role=next]":"next","click [data-role=move2left]":"slideTabs","click [data-role=move2right]":"slideTabs"},initialTab:0,paneClass:"",preventDefault:!0,triggerType:"mouseover",tabClass:"current",tabNumber:!0,tabElement:"a",interval:3,autoplay:!1,playMode:"",effect:"none",step:1,viewSize:[],template:a("./switchable-debug-debug.handlebars")},setup:function(){var a=this,b=this.role("pane");b.length>0?b.hide():this.element.parent().parent().find("[data-role=pane]").hide(),this.setHeightWidth(),!!this.option("playMode")&&this.role("tabs").css("zIndex",10);var c=this.option("initialTab");switch(this.option("playMode")){case 1:this.option("effect","scrollx");break;case 2:this.option("effect","scrolly");break;case 3:this.option("effect","fade")}this._initPlugins(),this.element.parent().length&&this.option("template",null),this.render(),-1!==c&&this.role("tab").eq(c).trigger(this.option("triggerType")||"click"),this.role("tab").length<=1&&this.role("tabs").hide(),this.role("tab").length>1&&(this.option("autoplay")&&/[1-9]\d*/.test(this.option("interval"))&&this.autoplayInstall(),this.role("tab").each(function(b){var c=""===f(this).html();a.option("tabNumber")&&c&&f(this).html(b+1)}))},setHeightWidth:function(){var a=this.element.width();if(this.role("pane").length&&this.option("autoplay")){var b=this.role("pane").eq(0).find("img"),c=b.prop("width")&&b.prop("height")?b.prop("width")/b.prop("height"):4/3;this.element.height(a/c),this.role("pane").width(a).height(a/c)}},autoplayInstall:function(){function a(){b(),j.paused=!1,c=setInterval(function(){j.paused||j.next()},i)}function b(){c&&(clearInterval(c),c=null),j.paused=!0}var c,g=this.element,h="."+this.uniqueId,i=1e3*this.option("interval"),j=this;a(),this.stop=b,this.start=a,this._scrollDetect=d(function(){j[e(g)?"start":"stop"]()}),f(window).on("scroll"+h,this._scrollDetect),this.element.hover(b,a)},prev:function(){this._isBackward=!0,this.autoChange()},next:function(){this._isBackward=!1,this.autoChange()},autoChange:function(){var a;this.activeTab&&(a="tabs"==this.activeTab.parent().data("role")?this.activeTab.index():this.activeTab.closest("."+this.option("tabClass")).index());var b=this.role("pane").size(),c=this._isBackward?(a-1+b)%b:(a+1)%b;this.slide(c,a)},getTabIndex:function(a){for(var b=a;;){if("tabs"==b.parent().data("role"))break;b=b.parent()}return b.index()},slide:function(a,b){var c,d,e,g,h=this,i=h.option("tabClass"),j=h.option("tabElement"),k=h.option("paneClass");if("number"==typeof a?c=h.role("tab").eq(a):"string"==typeof a?c=h.role("tab").filter(function(){return this.hash===a}):(c=f(a.currentTarget),h.option("preventDefault")&&a.preventDefault()),h.role("tabs").find(("."+i).replace(/\s+/g,"")).removeClass(i),0==c.find(j).length?c.addClass(i):c.find(j).addClass(i),g=h.getTabIndex(c),/^#([\w-]+)$/.test(c.prop("hash"))?(d=h.role("pane").filter(c.prop("hash")),0===d.length&&(d=f(c.prop("hash")))):(d=h.role("pane").eq(g),d.length||(d=this.element.parent().parent().find("[data-role=pane]").eq(g))),d.length){if(""===k)if(this.option("playMode")){var l;if(l=b||this.activeTab&&h.getTabIndex(this.activeTab),g!=l){var m=this._getPanelInfo(g,l);this._switchPanel(m)}}else d.show().siblings("[data-role=pane]").hide();else d.addClass(k).siblings((" "+k).replace(/\s+/g,".")).removeClass(k);e=d.data("remote"),e&&(d.removeData("remote"),d.load(e))}h.activeTab=c,h.activePane=d,h.fire("tab",c,d)},_initPlugins:function(){this._plugins=[],this._plug(h)},_plug:function(a){var b=a.defaults;if(b)for(var c in b)!b.hasOwnProperty(c)||c in this.defaults||this.option(c,b[c]);a.isNeeded.call(this)&&(a.install&&a.install.call(this),this._plugins.push(a))},_getPanelInfo:function(a,b){var c,d,e=this.role("pane"),g=this.option("step");return b>-1&&(c=e.slice(b*g,(b+1)*g)),d=e.slice(a*g,(a+1)*g),{toIndex:a,fromIndex:b,toPanels:f(d),fromPanels:f(c)}},_switchPanel:function(a){a.fromPanels.hide(),a.toPanels.show()},slideTabs:function(a){var b=this.role("tabs").parent(),c=this.role("tab").eq(0),d=this,e=c.width()*this.role("tab").length,g=Math.ceil(e/b.width()),h="move2right"===f(a.currentTarget).data("role");this.currentTabPos=this.currentTabPos||1,!h&&1==this.currentTabPos||h&&this.currentTabPos==g||(h?this.currentTabPos++:this.currentTabPos--,this.role("tabs").animate({marginLeft:-(d.currentTabPos-1)*b.width()},"fast"))}});c.exports=i}),define("pandora/switchable/1.0.0/plugins/effects",["$"],function(a,b,c){var d=a("$"),e="scrollx",f="scrolly",g="fade";c.exports={defaults:{easing:"linear",duration:500},isNeeded:function(){return"none"!==this.option("effect")},install:function(){var a=this.role("pane");a.show();var b=this.option("effect"),c=this.option("step"),f=d.isFunction(b);if(f||0!==b.indexOf("scroll")){if(!f&&b===g){var i=this.option("initialTab"),j=i*c,k=j+c-1;a.each(function(a,b){var c=a>=j&&k>=a;d(b).css({opacity:c?1:0,position:"absolute",zIndex:c?9:1})})}}else{var l=this.role("panes"),m=a.eq(0);l.css("position","relative"),"static"===l.parent().css("position")&&l.parent().css("position","relative"),b===e&&(a.css("float","left"),l.width("35791197px"));var n=this.option("viewSize");if(n[0]||(n[0]=m.outerWidth()*c,n[1]=m.outerHeight()*c,this.option("viewSize",n)),!n[0])throw new Error("Please specify viewSize manually")}this._switchPanel=function(a){var b=this.option("effect"),c=d.isFunction(b)?b:h[b];c.call(this,a)}}};var h={fade:function(a){if(this.option("step")>1)throw new Error('Effect "fade" only supports step === 1');var b=a.fromPanels.eq(0),c=a.toPanels.eq(0);if(this.anim&&this.anim.stop(!1,!0),c.css("opacity",1),c.show(),a.fromIndex>-1){var d=this,e=this.option("duration"),f=this.option("easing");this.anim=b.animate({opacity:0},e,f,function(){d.anim=null,c.css("zIndex",9),b.css("zIndex",1),b.css("display","none")})}else c.css("zIndex",9)},scroll:function(a){var b=this.option("effect")===e,c=this.option("viewSize")[b?0:1]*a.toIndex,d={};if(d[b?"left":"top"]=-c+"px",this.anim&&this.anim.stop(),a.fromIndex>-1){var f=this,g=this.option("duration"),h=this.option("easing");this.anim=this.role("panes").animate(d,g,h,function(){f.anim=null})}else this.role("panes").css(d)}};h[f]=h.scroll,h[e]=h.scroll,c.exports.Effects=h});