/*! dialog-1.0.0 2014-09-25 17:33:32 */
define("pandora/dialog/1.0.0/dialog",["pandora/overlay/1.0.0/overlay","$","pandora/widget/1.0.0/widget","pandora/base/1.0.0/base","pandora/class/1.0.0/class","pandora/events/1.0.0/events","pandora/locker/1.0.0/locker","./mask","./dialog.css","./dialog.handlebars"],function(a,b,c){"use strict";function d(a,b){var c;k.remove(a.uniqueId),f===a&&(f=null,k.length()&&(c=k.last(),c&&c.focus&&c.focus())),b||k.set(a.uniqueId,a,0)}var e,f,g=a("pandora/overlay/1.0.0/overlay"),h=a("pandora/locker/1.0.0/locker"),i=a("./mask"),j=a("./dialog.css"),k=new h,l=g.extend({defaults:{baseXY:{x:.5},classPrefix:"ue-dialog",css:{position:window.ActiveXObject&&!window.XMLHttpRequest?"absolute":"fixed"},data:{close:"&times;"},delegates:{keydown:function(a){27===a.keyCode&&this.close()},mousedown:function(){this.focus(!0)},"click [data-role=close]":function(){this.close()}},mask:!1,maskFixed:!1,offset:{y:70},selfXY:{x:.5},template:a("./dialog.handlebars"),trigger:null,importStyle:!1},setup:function(){var a=this,b=a.option("title"),c=a.option("content");c&&a.data({content:c}),b&&a.data({title:b}),this.option("importStyle")&&!e&&(j(),e=!0),l.superclass.setup.apply(a)},setIndex:function(a){return this.element.css({zIndex:+this.option("css/zIndex")+(a||0)}),a?this.element.addClass("focused"):this.element.removeClass("focused"),this},setPosition:function(){this.mask&&this.mask.setPosition(),this.option("baseElement")||this.option("baseElement",this.document),l.superclass.setPosition.apply(this)},focus:function(a){var b;return f&&f.setIndex(),f=this.setIndex(1),a||(b=this.$("[autofocus]"),b.length?b.focus():this.element.focus()),this},close:function(a){return a?this.on("close",a):(this.fire("close")!==!1&&(this.hide(),d(this,!1)),void 0)},initMask:function(){var a=this;a.option("mask")&&!a.mask&&(a.mask=new i({autoShow:"none"===a.option("effect"),baseElement:a.option("baseElement"),container:a.element,css:{position:a.option("maskFixed")?"fixed":a.option("css/position")},delegates:{keydown:function(b){27===b.keyCode&&a.close()},click:function(){a.stop().animate({left:"-=10"},40).animate({left:"+=20"},80).animate({left:"-=20"},80).animate({left:"+=10"},40)}},effect:a.option("effect"),insert:function(){this.container.before(this.element)}}),a.show(function(){this.mask&&this.mask.show()}).hide(function(){this.mask&&this.mask.hide()}))},render:function(){var a=this;return k.set(a.uniqueId,a),l.superclass.render.apply(a),a.initMask(),a.focus(),a},destroy:function(a){return a?this.on("destroy",a):(this.mask&&this.mask.destroy(),d(this,!0),l.superclass.destroy.apply(this),void 0)}});c.exports=l}),define("pandora/dialog/1.0.0/mask",["$","pandora/overlay/1.0.0/overlay","pandora/widget/1.0.0/widget","pandora/base/1.0.0/base","pandora/class/1.0.0/class","pandora/events/1.0.0/events"],function(a,b,c){"use strict";var d=a("$"),e=a("pandora/overlay/1.0.0/overlay"),f=e.extend({defaults:{autoShow:!1,css:{position:window.ActiveXObject&&!window.XMLHttpRequest?"absolute":"fixed",left:0,top:0,width:"100%",height:"100%",background:"#000",opacity:.2}},setup:function(){var a=this,b=a.option("baseElement");b&&(a.baseElement=d(b)),window.ActiveXObject&&!window.XMLHttpRequest&&d('<iframe src="about:blank"></iframe>').css({width:"100%",height:"100%",opacity:0}).appendTo(a.element),f.superclass.setup.apply(a)},setPosition:function(){function a(){b.element.css({width:0,height:0}).css({width:c.outerWidth(),height:c.outerHeight()})}var b=this,c=b.baseElement;"fixed"!==b.option("css/position")&&(c||(c=d(b.document)),a(),d(b.viewport).on("resize"+b.delegateNS,a)),f.superclass.setPosition.apply(b)},destroy:function(){d(this.viewport).off("resize"+this.delegateNS),f.superclass.destroy.apply(this)}});c.exports=f}),define("pandora/dialog/1.0.0/dialog.css",["pandora/importstyle/1.0.0/importstyle"],function(a,b,c){var d=a("pandora/importstyle/1.0.0/importstyle");c.exports=function(){d(".ue-dialog{left:0;top:0;min-width:320px;background:#fff;border-top:5px solid #333;border-radius:3px;box-shadow:0 5px 15px rgba(0,0,0,.5);-webkit-filter:grayscale(0.8) blur(2px)}.ue-dialog:focus{outline:0}.ue-dialog.focused{-webkit-filter:none}.ue-dialog .dialog-close{position:absolute;z-index:9;right:15px;top:15px;font-size:21px;font-weight:700;line-height:1;color:rgba(0,0,0,.2);text-shadow:0 1px 0 #fff;cursor:pointer;text-decoration:none}.ue-dialog .dialog-close:hover{color:rgba(0,0,0,.5);text-decoration:none;cursor:pointer}.ue-dialog .dialog-head{cursor:default;min-height:16.428571429px;border-bottom:1px solid #e5e5e5}.ue-dialog .dialog-title{cursor:default;margin:0;padding:15px 46px 15px 15px;font-size:18px;font-weight:500;line-height:21px}.ue-dialog .dialog-body{position:relative;padding:20px}.ue-dialog .dialog-foot{padding:19px 20px 20px;border-top:1px solid #e5e5e5;text-align:center}.ue-dialog .dialog-foot:empty{display:none}.ue-dialog .dialog-foot a{margin:0 5px}.ue-dialog .dialog-foot span{padding:6px 20px}.ue-dialog-tabs .dialog-head{padding-bottom:0;line-height:19px}.ue-dialog-tabs .dialog-head .nav-tabs{margin-bottom:0;border-bottom:0}.ue-dialog-tabs .dialog-head .nav>li>a{padding-top:5px;padding-bottom:5px}","pandora/dialog/1.0.0/dialog.css")}}),define("pandora/dialog/1.0.0/dialog.handlebars",["gallery/handlebars/1.3.0/handlebars-runtime"],function(a,b,c){var d=a("gallery/handlebars/1.3.0/handlebars-runtime");c.exports=d.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\r\n<a class="dialog-close" href="javascript:" data-role="close">',(e=c.close)?d=e.call(a,{hash:{},data:b}):(e=a&&a.close,d=typeof e===n?e.call(a,{hash:{},data:b}):e),(d||0===d)&&(f+=d),f+="</a>\r\n"}function g(a,b){var d,e,f="";return f+='\r\n<div class="dialog-head" data-role="head">\r\n  <h3 class="dialog-title" data-role="title">',(e=c.title)?d=e.call(a,{hash:{},data:b}):(e=a&&a.title,d=typeof e===n?e.call(a,{hash:{},data:b}):e),(d||0===d)&&(f+=d),f+="</h3>\r\n</div>\r\n"}function h(a,b){var d,e,f="";return f+='\r\n<div class="dialog-foot" data-role="foot">\r\n  <a href="javascript:;" class="dialog-submit" data-role="submit">',(e=c.submit)?d=e.call(a,{hash:{},data:b}):(e=a&&a.submit,d=typeof e===n?e.call(a,{hash:{},data:b}):e),(d||0===d)&&(f+=d),f+="</a>\r\n  ",d=c["if"].call(a,a&&a.cancel,{hash:{},inverse:o.noop,fn:o.program(6,i,b),data:b}),(d||0===d)&&(f+=d),f+="\r\n</div>\r\n"}function i(a,b){var d,e,f="";return f+='\r\n  <a href="javascript:;" class="dialog-cancel" data-role="cancel">',(e=c.cancel)?d=e.call(a,{hash:{},data:b}):(e=a&&a.cancel,d=typeof e===n?e.call(a,{hash:{},data:b}):e),(d||0===d)&&(f+=d),f+="</a>\r\n  "}this.compilerInfo=[4,">= 1.0.0"],c=c||{};for(var j in a.helpers)c[j]=c[j]||a.helpers[j];e=e||{};var k,l,m="",n="function",o=this;return k=c["if"].call(b,b&&b.close,{hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e}),(k||0===k)&&(m+=k),m+="\r\n",k=c["if"].call(b,b&&b.title,{hash:{},inverse:o.noop,fn:o.program(3,g,e),data:e}),(k||0===k)&&(m+=k),m+='\r\n<div class="dialog-body" data-role="body">\r\n  <div class="dialog-content" data-role="content">',(l=c.content)?k=l.call(b,{hash:{},data:e}):(l=b&&b.content,k=typeof l===n?l.call(b,{hash:{},data:e}):l),(k||0===k)&&(m+=k),m+="</div>\r\n</div>\r\n",k=c["if"].call(b,b&&b.submit,{hash:{},inverse:o.noop,fn:o.program(5,h,e),data:e}),(k||0===k)&&(m+=k),m+="\r\n"})});